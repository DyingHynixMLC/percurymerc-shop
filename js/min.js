function mod(e,t){return(e%t+t)%t}import*as PIXI from"https://esm.sh/pixi.js@7.2.4?bundle-deps";window.addEventListener("hashchange",e=>{const t=new URL(e.newURL);"#_"==t.hash&&history.pushState(null,null,t.pathname+t.search)});const pattern=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a","Enter"];let current=0;const clocks=document.getElementById("clocks");document.addEventListener("keydown",e=>{e.key===pattern[current]?(current++,current===pattern.length&&(clocks.classList.add("playing"),clocks.play(),clocks.addEventListener("ended",()=>{clocks.pause(),clocks.classList.remove("playing"),clocks.classList.add("ending"),setTimeout(()=>{clocks.classList.remove("ending")},500)}),current=0)):current=0});const canvas=document.getElementById("bg"),app=new PIXI.Application({view:canvas,resizeTo:canvas,backgroundAlpha:0,antialias:!0});app.stage.filters=[new PIXI.BlurFilter(2,void 0,window.devicePixelRatio)];const starSize=6,starNum=Math.sqrt(Math.pow(app.screen.height,2)+Math.pow(app.screen.height,2))/32,starTexture=app.renderer.generateTexture((new PIXI.Graphics).beginFill(16777215).drawCircle(0,0,starSize).endFill()),stars=Array.from({length:starNum},()=>{const e={sprite:new PIXI.Sprite(starTexture),x:Math.random(),y:Math.random()};return e.sprite.anchor.set(.5,1),e.sprite.scale.set(Math.random()),app.stage.addChild(e.sprite),e.sprite.x=Math.random()*app.screen.width,e.sprite.y=Math.random()*app.screen.height,e});document.getElementById("bg").classList.add("show");let smoothY=document.documentElement.scrollTop;app.ticker.add(()=>{smoothY+=.15*(document.documentElement.scrollTop-smoothY);const e=document.documentElement.scrollTop/document.body.scrollHeight;app.stage.alpha=.7-1.2*e,stars.forEach(e=>{e.sprite.x=e.x*app.screen.width,e.sprite.y=mod(e.y*app.screen.height-2.77*smoothY*e.sprite.scale.y,app.screen.height+starSize*window.devicePixelRatio)})});